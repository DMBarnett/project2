<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.3/css/bootstrap.min.css">
  <link rel="stylesheet" href="/styles/styles.css" media="screen" title="no title" charset="utf-8">
  
  <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
  <script src="../Giphy-Political/Assets/Javascript/javascript.js"></script>
  <title>Fridge2Table - Ingredients</title>
</head>

<body>
    <nav class="navbar navbar-expand-md bg-dark navbar-dark">
        <a class="navbar-brand" href="./index.html"><h2>Fridge2Table</h2></a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target=".navbar-collapse" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse">
            <ul class="navbar-nav ml-auto">
                <li class="nav-item">
                    <a class="nav-link" href="./index.html">Home</a>
                </li>
                <li class="nav-item active">
                    <a class="nav-link" href="./search.html">New Search</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="./recipes.html">My Recipes</a>
                </li>
            </ul>
        </div>
    </nav>
  <div class="container">
    <div class="row">
        <div class="col-lg-12" id="ingredientsList">
            <!-- ingredients from database will get dumped here -->
        </div>
    </div>
    <div class="row">
        <!-- click this button to get recipes -->
        <a href=""><button type="button" class="btn btn-primary btn-lg" id="searchBtn">Get My Recipes!</button></a>
    </div>
    <div class="row">
        <div class="col-lg-12" id="recipesList">
            <!-- recipes from database will get dumped here -->
        </div>
    </div>
  </div>
</body>
<link rel="stylesheet" type="text/css" href="styles/styles.css">
<script type="text/javascript">
  
    function runIngredientsQuery() {
      // The AJAX function uses the URL of our API to GET the data associated with it (initially set to localhost)
      $.ajax({ url: "/api/ingredients", method: "GET" })
        .then(function(ingredients) {
  
          // Here we then log the ingredients to console, where it will show up as an object.
          console.log(ingredients);
          console.log("------------------------------------");
          // Loop through and create a card for each ingredient
          for (var i = 0; i < ingredients.length; i++) {
            //This makes the card that serves as the ingredient select
            // Then display the fields in the HTML (Section Name, Date, URL)
            var newCard = $("<div>")
                //do these need to give these a data-type to pass into an array so we can identify them? or using an id?
                newCard.attr("class", "card")
                newCard.attr("style", "width: 100px");
            var newImg = $("<img>");
                newImg.attr("class", "card-img-top");
                newImg.attr("src", `${ingredients.image_link}`);
            var textDiv = $("<div>");
                textDiv.attr("class", "card-body");
            var ingrName = $("<h5>");
                ingrName.text(`${ingredients.name}`);
            textDiv.append(ingrName);
            newCard.append(newImg);
            newCard.append(textDiv);
            $("#ingredientsList").append(newCard);
          }
        });
    }
  </script>
</html>
